var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,e,d){b instanceof String&&(b=String(b));for(var f=b.length,c=0;c<f;c++){var q=b[c];if(e.call(d,q,c,b))return{i:c,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,d){if(b==Array.prototype||b==Object.prototype)return b;b[e]=d.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<b.length;++e){var d=b[e];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,e){var d=$jscomp.propertyToPolyfillSymbol[e];if(null==d)return b[e];d=b[d];return void 0!==d?d:b[e]};
$jscomp.polyfill=function(b,e,d,f){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,e,d,f):$jscomp.polyfillUnisolated(b,e,d,f))};$jscomp.polyfillUnisolated=function(b,e,d,f){d=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var c=b[f];if(!(c in d))return;d=d[c]}b=b[b.length-1];f=d[b];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(d,b,{configurable:!0,writable:!0,value:e})};
$jscomp.polyfillIsolated=function(b,e,d,f){var c=b.split(".");b=1===c.length;f=c[0];f=!b&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var q=0;q<c.length-1;q++){var p=c[q];if(!(p in f))return;f=f[p]}c=c[c.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?f[c]:null;e=e(d);null!=e&&(b?$jscomp.defineProperty($jscomp.polyfills,c,{configurable:!0,writable:!0,value:e}):e!==d&&(void 0===$jscomp.propertyToPolyfillSymbol[c]&&($jscomp.propertyToPolyfillSymbol[c]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(c):
$jscomp.POLYFILL_PREFIX+c),$jscomp.defineProperty(f,$jscomp.propertyToPolyfillSymbol[c],{configurable:!0,writable:!0,value:e})))};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(e,d){return $jscomp.findInternal(this,e,d).v}},"es6","es3");
(function(){tinymce.PluginManager.add("add_table",function(b,e){function d(){var g=b.settings.color_picker_callback;if(g)return function(){var k=this;g.call(b,function(h){k.value(h).fire("change")},k.value())}}function f(){return!!$("#selectTable-preview-body table").length}function c(g){if(!f())return alert("Select Table please"),!1;var k=$("#"+g);k.hasClass("active")?(k.removeClass("active"),(0>g.indexOf("-color")||0>g.indexOf("-reset"))&&$("#selectTable-preview-body table").removeClass(g)):((0<
g.indexOf("-color")||0<g.indexOf("-reset"))&&$("#coloriseCell-body div, div#tableHeight-body div").removeClass("active"),k.addClass("active"),(0>g.indexOf("-color")||0>g.indexOf("-reset"))&&$("#selectTable-preview-body table").addClass(g))}function q(g,k){var h=b.getContentAreaContainer().lastChild.contentDocument;k=$("#selectTable-inp").val();var n="",a="",l=$("#selectTable-preview-body");$(h).find("table#"+k).parent().is("div")&&(n=$(h).find("table#"+k).parent().attr("class"),a=$(h).find("table#"+
k).parent().attr("style"));n=0<=n.indexOf("table-responsive")?n:n+" table-responsive";arr=$.unique(n.split(" "));n=arr.join(" ");l.empty();l.html('<div class="'+n+'" style="'+a+'">'+g[k]+"</div>");g=$("#selectTable-preview-body table");h=g.attr("class");h=0<=h.indexOf("table table-bordered")?h+" ui-sortable":h+" table table-bordered ui-sortable";arr=$.unique(h.split(" "));h=arr.join(" ");g.attr("class",h);var m='<tr class="headerrow ui-sortable">';g.find("tbody tr:first-of-type td").each(function(r){m+=
'<th class=""><div class="">COL '+(r+1)+'<div class=""></div></div></th>'});m+="</tr>";h=$("#"+k+" thead").length?"thead":"tbody";g.find(h).prepend(m);$("#"+k+" tbody").sortable();$("#"+k).sorttable({placeholder:"placeholder"}).disableSelection()}function p(g,k,h){h=$("#"+h);if(!$("#selectCellsColour-inp").val()&&"color"==k){if(!f())return!1;alert("Select Color please");h.removeClass("active");return!1}var n=$("#selectTable-preview-body table"),a="color"==k?$("#selectCellsColour-inp").val():"none";
h.hasClass("active")?(n.addClass("pointer"),n.off("click"),n.on("click","td,th",function(){switch(g){case "cell":var l=$(this);l.css("background",a);break;case "row":l=$(this).parent("tr");l.find("td,th").each(function(){$(this).css("background",a)});break;case "column":l=$(this).parent("tr");var m=$(this).index();$(this).closest("table").find("tr").each(function(){$(this).find("td:nth-child("+(m+1)+")").css("background",a)})}})):(n.removeClass("pointer"),n.off("click"))}b.addButton("add_table",{title:"Edit Tables on Editor",
icon:"book-btn dashicons-before dashicons-buddicons-replies",onclick:function(){var g=b.getContentAreaContainer().lastChild.contentDocument,k=[],h=[],n=[];$(g).find("table").each(function(a,l){if(!$(this).attr("id")){l=$(this).find("tr").length;var m=$(this).find("td").length;$(this).attr("id","edit-table-"+(a+1)+"-"+l+"-"+m)}l=$(this).attr("id");m={};m.text="Table "+(a+1);m.value=l;h[l]=$(this).prop("outerHTML");n[l]=$(this);k.push(m)});b.windowManager.open({width:1080,height:840,resizable:!0,multiline:!0,
title:"Edit the Tables",classes:"table-edit-modal table-edit-modal",body:[{type:"combobox",name:"selectTable",label:"Select the Table you want to edit:",id:"selectTable",values:k},{type:"button",name:"selextTablButton",text:"Press to preview table",width:20,onclick:function(){q(h,n)}},{type:"colorbox",id:"selectCellsColour",label:"colorbox",layout:"flex",onaction:d()},{type:"buttongroup",name:"coloriseCell",id:"coloriseCell",label:"Press HERE and then to the cell you want to fill with color",items:[{text:"Color Cell",
id:"cell-color",onclick:function(a){c(a.control._id);p("cell","color",a.control._id)}},{text:"Color Row",id:"row-color",onclick:function(a){c(a.control._id);p("row","color",a.control._id)}},{text:"Color Column",id:"column-color",onclick:function(a){c(a.control._id);p("column","color",a.control._id)}},{text:"Reset Cell",id:"cell-reset",onclick:function(a){c(a.control._id);p("cell","reset",a.control._id)}},{text:"Reset Row",id:"row-reset",onclick:function(a){c(a.control._id);p("row","reset",a.control._id)}},
{text:"Reset Column",id:"column-reset",onclick:function(a){c(a.control._id);p("column","reset",a.control._id)}}]},{type:"buttongroup",name:"tableProperties",id:"tableProperties",label:"Choose the properties of the table",items:[{text:"Table Striped",class:"btn btn-primary btn-sm",id:"table-striped",onclick:function(a){c(a.control._id)}},{text:"Table Bordered",class:"btn btn-primary btn-sm",id:"table-bordered",onclick:function(a){c(a.control._id)}},{text:"Table Hover",class:"btn btn-primary btn-sm",
id:"table-hover",onclick:function(a){c(a.control._id)}},{text:"Table Borderless",class:"btn btn-primary btn-sm",id:"table-borderless",onclick:function(a){c(a.control._id)}},{text:"Table Small",class:"btn btn-primary btn-sm",id:"table-sm",onclick:function(a){c(a.control._id)}}]},{type:"buttongroup",name:"tableHeight",id:"tableHeight",label:"Choose Max Height of Table (pick the last row that will be visible)",items:[{text:"Choose Max height",class:"btn btn-primary btn-sm",id:"last-shown-color",onclick:function(a){c(a.control._id);
$("#selectTable-preview-body table").on("click","td",function(){var l=$(this).parent("tr").index(),m=$("#selectTable-inp").val(),r=$("#selectTable-preview-body #"+m),t;$("#selectTable-preview-body #"+m+" thead").length&&(t=$("#selectTable-preview-body #"+m+" thead tr:nth-of-type(2)").outerHeight());for(var u=0;u<=l;u++)t+=$("#selectTable-preview-body #"+m+" tbody tr:nth-of-type("+(u+1)+")").outerHeight();r.parent("div").css("max-height",t);r.parent("div").css("overflow-y","scroll")})}},{text:"Reset Max height",
class:"btn btn-primary btn-sm",id:"shown-reset",onclick:function(a){c(a.control._id);a=$("#selectTable-inp").val();a=$("#selectTable-preview-body #"+a);$("#selectTable-preview-body table").off("click");a.parent("div").css("max-height","initial");a.parent("div").css("overflow-y","unset")}}]},{width:620,type:"container",name:"selectTable-preview",id:"selectTable-preview",html:""}],onsubmit:function(a){$("#selectTable-preview-body table").off("click");$("#selectTable-preview-body table");a=$("#selectTable-inp").val();
$("#"+a).sorttable("disable");$("#"+a+" tbody").sortable("disable");$("#selectTable-preview-body table tr.headerrow").remove();$("#selectTable-preview-body table, #selectTable-preview-body table tbody").removeClass("ui-sortable");$("#selectTable-preview-body table tr").removeClass("ui-sortable-handle");$("#selectTable-preview-body table").off();$("#selectTable-preview-body table").find("*").off();var l=b.getContentAreaContainer().lastChild.contentDocument,m=$("#selectTable-preview-body div");$(l).find("table#"+
a).parent().is("div")?$(l).find("table#"+a).parent().replaceWith(m):$(l).find("table#"+a).replaceWith(m)}})}})})})();
